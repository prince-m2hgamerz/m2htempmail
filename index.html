<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>M2H Temp Mail | Secure Anonymous Disposable Email Service</title>
    <meta name="description" content="M2H Temp Mail provides free, secure, and anonymous disposable email addresses. Protect your primary inbox from spam, trackers, and data breaches.">
    <meta name="keywords" content="temp mail, disposable email, anonymous email, 10 minute mail, spam protection, M2H web solutions">
    
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap">

    <style>
        :root {
            --black: #000000; --white: #ffffff; --gray-100: #0a0a0a;
            --gray-200: #1a1a1a; --gray-400: #a1a1a1; --border: #262626;
            --font: 'Inter', sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        html, body { height: 100%; scroll-behavior: smooth; background: var(--black); color: var(--white); }
        body { font-family: var(--font); -webkit-font-smoothing: antialiased; display: flex; flex-direction: column; }
        .container { max-width: 900px; width: 100%; margin: 0 auto; padding: 40px 20px; flex: 1 0 auto; }

        /* NAV */
        nav { display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px; }
        .brand { display: flex; align-items: center; gap: 10px; font-weight: 800; font-size: 1.2rem; text-decoration: none; color: white; letter-spacing: -0.05em; }
        .brand-icon { width: 18px; height: 18px; background: var(--white); clip-path: polygon(50% 0%, 0% 100%, 100% 100%); }
        .nav-links { display: flex; gap: 20px; font-size: 0.8rem; }
        .nav-links a { color: var(--gray-400); text-decoration: none; transition: 0.2s; }
        .nav-links a:hover { color: white; }

        /* ADSENSE SLOTS */
        .ad-unit { min-height: 100px; margin: 30px 0; background: #050505; border: 1px solid var(--border); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #333; font-size: 10px; letter-spacing: 2px; }

        /* HERO */
        .hero { text-align: center; margin: 40px 0 60px; }
        .hero h1 { font-size: clamp(2.5rem, 8vw, 3.8rem); font-weight: 800; letter-spacing: -0.06em; margin-bottom: 20px; }
        .hero p { color: var(--gray-400); max-width: 600px; margin: 0 auto; line-height: 1.6; }

        /* TOOL */
        .tool-box { background: var(--gray-100); border: 1px solid var(--border); border-radius: 16px; padding: 30px; margin-bottom: 40px; }
        .address-row { display: flex; gap: 12px; align-items: center; margin-bottom: 20px; }
        .address-val { font-family: 'SF Mono', monospace; font-size: 1.1rem; flex: 1; padding: 15px; background: #000; border: 1px solid var(--border); border-radius: 8px; color: #fff; word-break: break-all; }
        .btn { background: var(--white); color: var(--black); border: none; padding: 14px 24px; border-radius: 8px; font-weight: 700; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 0.9rem; }
        .btn-sec { background: transparent; color: var(--gray-400); border: 1px solid var(--border); }
        .status-bar { display: flex; align-items: center; gap: 15px; font-size: 0.7rem; color: #555; text-transform: uppercase; letter-spacing: 1px; }
        .line { height: 1px; flex: 1; background: #1a1a1a; position: relative; overflow: hidden; }
        .line::after { content: ''; position: absolute; left: -100%; width: 100%; height: 100%; background: #444; animation: scan 2.5s infinite linear; }
        @keyframes scan { 100% { left: 100%; } }

        /* MAIL */
        .mail-item { border: 1px solid var(--border); border-radius: 10px; padding: 20px; margin-top: 15px; background: #050505; cursor: pointer; }
        .mail-top { display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 0.9rem; }
        .mail-body { display: none; margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--border); color: var(--gray-400); line-height: 1.7; white-space: pre-wrap; font-size: 0.9rem; }
        .active .mail-body { display: block; }

        /* CONTENT RICH SECTIONS */
        .content-rich { margin-top: 60px; padding-top: 40px; border-top: 1px solid var(--border); }
        .content-rich h2 { font-size: 1.8rem; margin: 35px 0 15px; letter-spacing: -0.04em; }
        .content-rich h3 { font-size: 1.1rem; margin: 25px 0 10px; color: #fff; }
        .content-rich p { color: var(--gray-400); line-height: 1.8; margin-bottom: 20px; }
        .content-rich ul { margin-left: 20px; color: var(--gray-400); line-height: 2; margin-bottom: 20px; }

        /* COOKIE BANNER */
        .cookie-bar { position: fixed; bottom: 20px; left: 20px; right: 20px; background: white; color: black; padding: 20px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center; z-index: 10000; box-shadow: 0 20px 40px rgba(0,0,0,0.5); }
        
        /* MODAL */
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); display: none; justify-content: center; align-items: center; z-index: 9999; padding: 20px; }
        .modal-inner { background: #0a0a0a; padding: 40px; border-radius: 15px; max-width: 600px; border: 1px solid var(--border); max-height: 80vh; overflow-y: auto; }

        footer { border-top: 1px solid var(--border); padding: 60px 20px; text-align: center; }
        .footer-nav { display: flex; justify-content: center; gap: 25px; margin-bottom: 30px; font-size: 0.8rem; color: var(--gray-400); }
        .footer-nav a { color: inherit; text-decoration: none; }
        #toast { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: white; color: black; padding: 10px 20px; border-radius: 5px; font-weight: 700; font-size: 0.8rem; display: none; z-index: 10001; }

        @media (max-width: 600px) {
            .address-row { flex-direction: column; }
            .nav-links { display: none; }
        }
    </style>
</head>
<body>

<div id="toast">Copied</div>

<div class="cookie-bar" id="cookieBar">
    <p style="font-size: 0.85rem; font-weight: 600;">We use cookies to ensure AdSense serves relevant ads and to improve privacy.</p>
    <button class="btn" style="padding: 8px 20px;" onclick="document.getElementById('cookieBar').style.display='none'">Accept</button>
</div>

<div class="container">
    <nav>
        <a href="/" class="brand"><div class="brand-icon"></div> M2H MAIL</a>
        <div class="nav-links">
            <a href="#about">About</a>
            <a href="#faq">FAQ</a>
            <a href="javascript:void(0)" onclick="openM('contact')">Support</a>
        </div>
    </nav>

    <div class="ad-unit">ADSENSE TOP AD UNIT</div>

    <div class="hero" id="hero-view">
        <h1>Private inbox. Instant.</h1>
        <p>A high-performance disposable email service by M2H Web Solution. Stop spam before it starts.</p>
        <button class="btn" style="margin: 30px auto;" onclick="createInbox()">Generate Address <i class="ph ph-magic-wand"></i></button>
    </div>

    <div id="app-view" style="display:none">
        <div class="tool-box">
            <div class="address-row">
                <div class="address-val" id="addr">...</div>
                <div style="display:flex; gap:10px">
                    <button class="btn-sec btn" onclick="copyEmail()"><i class="ph ph-copy"></i></button>
                    <button class="btn" onclick="createInbox()"><i class="ph ph-plus"></i></button>
                </div>
            </div>
            <div class="status-bar">
                Monitoring Inbox <div class="line"></div> <span id="timer" style="color:#fff"></span>
            </div>
        </div>
        <div id="inbox-content"></div>
    </div>

    <article class="content-rich" id="about">
        <h2>About M2H Temp Mail</h2>
        <p>M2H Temp Mail is a premier privacy tool developed by <strong>M2H Web Solution</strong>. In an era where data privacy is constantly under threat, our service provides a critical layer of protection for users who want to explore the web without compromising their personal identity. By using a disposable email address, you effectively neutralize the risks associated with data breaches, marketing trackers, and unsolicited spam.</p>

        <div class="ad-unit">ADSENSE MID-ARTICLE AD UNIT</div>

        <h3>Why Privacy is our Mission</h3>
        <p>Our team at M2H Web Solution believes that privacy is a fundamental human right. Many online platforms force users to provide an email address just to browse content. This often leads to your primary address being sold to third-party brokers. M2H Temp Mail ensures that you can bypass these requirements securely. Our infrastructure is optimized for verification codes (OTPs), social media signups, and forum registrations.</p>

        <h2 id="faq">Frequently Asked Questions</h2>
        <h3>How secure is a temporary email?</h3>
        <p>Very secure. Since M2H Mail addresses are short-lived and require no passwords or personal data to generate, there is no footprint left behind. Once the session expires, all data is permanently erased from our encrypted RAM caches.</p>
        
        <h3>Can I use this for permanent accounts?</h3>
        <p>We do not recommend using temporary mail for banking or primary social media accounts. Since you cannot recover the address after the session ends, you might lose access to those accounts if you need to reset a password in the future.</p>

        <div class="ad-unit">ADSENSE FOOTER AD UNIT</div>

        <h2>Brand Commitment</h2>
        <p>M2H Web Solution is dedicated to transparency. We do not log IP addresses, we do not store message history permanently, and we ensure that our advertising partners adhere to the strict privacy guidelines set by Google AdSense.</p>
    </article>
</div>

<div id="m-privacy" class="modal" onclick="closeM()">
    <div class="modal-inner" onclick="event.stopPropagation()">
        <h3>Privacy & Cookies</h3>
        <p>We use cookies to analyze traffic and optimize your experience. AdSense may use cookies to serve personalized ads. No personal data is collected or stored by M2H Mail.</p>
        <button class="btn" style="margin-top:20px" onclick="closeM()">Close</button>
    </div>
</div>

<div id="m-contact" class="modal" onclick="closeM()">
    <div class="modal-inner" onclick="event.stopPropagation()">
        <h3>Contact M2H Support</h3>
        <p>For technical inquiries or business partnerships, please contact our team at:</p>
        <p style="margin: 15px 0; color: white; font-weight: 700;">support@m2hgamerz.com</p>
        <button class="btn" onclick="closeM()">Close</button>
    </div>
</div>

<footer>
    <div class="footer-nav">
        <a href="javascript:void(0)" onclick="openM('privacy')">Privacy Policy</a>
        <a href="javascript:void(0)" onclick="openM('contact')">Terms of Service</a>
        <a href="javascript:void(0)" onclick="openM('contact')">Contact</a>
    </div>
    <div style="display:flex; justify-content:center; gap:20px; margin-bottom:20px">
        <a href="https://instagram.com/m2hgamerz" target="_blank" style="color:var(--gray-400)"><i class="ph-fill ph-instagram-logo" style="font-size:22px"></i></a>
        <a href="https://t.me/m2hgamerz" target="_blank" style="color:var(--gray-400)"><i class="ph-fill ph-telegram-logo" style="font-size:22px"></i></a>
    </div>
    <p style="font-size: 0.7rem; color: #444;">© 2025 M2H SOLUTIONS • SECURE DISPOSABLE MAIL</p>
</footer>

<script>
    // --- YOUR PROVEN WORKING SCRIPT ---
    const API = "https://m2htempmail.m2hgamerz.workers.dev";
    let email = "", expireAt = 0, pollTimer = null;

    function showToast(msg) {
        const t = document.getElementById("toast");
        t.innerText = msg;
        t.style.display = "block";
        setTimeout(() => t.style.display = "none", 2000);
    }

    function openM(id) { document.getElementById('m-' + id).style.display = 'flex'; }
    function closeM() { document.querySelectorAll('.modal').forEach(m => m.style.display = 'none'); }

    function copyEmail() {
        if (!email) return;
        const textArea = document.createElement("textarea");
        textArea.value = email;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        showToast("Address Copied");
    }

    async function createInbox() {
        if(pollTimer) clearInterval(pollTimer);
        try {
            const r = await fetch(API + "/api/new");
            const d = await r.json();
            email = d.email;
            expireAt = Date.now() + (d.expires_in * 1000);
            document.getElementById("hero-view").style.display = "none";
            document.getElementById("app-view").style.display = "block";
            document.getElementById("addr").innerText = email;
            startTimer();
            pollTimer = setInterval(pollInbox, 1000); 
            pollInbox();
            showToast("Inbox Active");
        } catch (e) { showToast("API Connection Error"); }
    }

    async function pollInbox() {
        if (!email) return;
        try {
            const r = await fetch(API + "/api/inbox?email=" + encodeURIComponent(email));
            const d = await r.json();
            const content = document.getElementById("inbox-content");
            if (d.inbox && d.inbox.length > 0) {
                if (content.dataset.count != d.inbox.length) {
                    content.innerHTML = "";
                    d.inbox.slice().reverse().forEach(m => {
                        const card = document.createElement('div');
                        card.className = 'mail-item';
                        card.onclick = function() { this.classList.toggle('active'); };
                        card.innerHTML = `
                            <div class="mail-top">
                                <strong>${m.from}</strong>
                                <span style="color:#666">${new Date(m.arrived_at).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</span>
                            </div>
                            <div style="font-size:0.8rem; color:#888">${m.subject}</div>
                            <div class="mail-body">${m.body}</div>
                        `;
                        content.appendChild(card);
                    });
                    content.dataset.count = d.inbox.length;
                    document.title = "(1) New Mail!";
                }
            }
        } catch (e) {}
    }

    function startTimer() {
        const timerEl = document.getElementById("timer");
        const interval = setInterval(() => {
            const diff = expireAt - Date.now();
            if (diff <= 0) { timerEl.innerText = "EXPIRED"; clearInterval(interval); return; }
            const m = Math.floor(diff / 60000);
            const s = Math.floor((diff % 60000) / 1000);
            timerEl.innerText = `${m}m ${s}s`;
        }, 1000);
    }
    window.onfocus = () => { document.title = "M2H Temp Mail | Premium SaaS"; };
</script>
</body>
</html>
